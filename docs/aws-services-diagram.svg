<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="801px" height="601px" viewBox="-0.5 -0.5 801 601" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2024-01-20T10:00:00.000Z&quot; agent=&quot;5.0&quot; etag=&quot;abc123&quot; version=&quot;22.1.0&quot;&gt;&lt;diagram name=&quot;AWS Services&quot; id=&quot;aws-services&quot;&gt;&lt;mxGraphModel dx=&quot;1422&quot; dy=&quot;794&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs>
    <style type="text/css">
      .aws-orange { fill: #FF9900; }
      .aws-blue { fill: #232F3E; }
      .aws-light-blue { fill: #4B92DB; }
      .aws-green { fill: #7AA116; }
      .text-white { fill: white; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .text-dark { fill: #232F3E; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .text-title { fill: #232F3E; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #232F3E; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .dashed-arrow { stroke: #666; stroke-width: 2; fill: none; stroke-dasharray: 5,5; marker-end: url(#arrowhead-gray); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#232F3E" />
    </marker>
    <marker id="arrowhead-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect x="0" y="0" width="800" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
  
  <!-- Title -->
  <text x="400" y="30" class="text-title">Flash Promos Marketplace - AWS Services Architecture</text>
  
  <!-- AWS Cloud Container -->
  <rect x="50" y="60" width="700" height="400" fill="#fff3cd" stroke="#FF9900" stroke-width="2" rx="10"/>
  <text x="70" y="80" class="text-dark" style="font-weight: bold;">AWS Cloud</text>
  
  <!-- SNS Topic -->
  <rect x="100" y="120" width="150" height="80" class="aws-orange" rx="5"/>
  <text x="175" y="145" class="text-white" style="font-weight: bold;">📡 AWS SNS</text>
  <text x="175" y="165" class="text-white">Topic: flash-promo-topic</text>
  <text x="175" y="185" class="text-white">Environment: {env}</text>
  
  <!-- SQS Queue -->
  <rect x="350" y="120" width="150" height="80" class="aws-light-blue" rx="5"/>
  <text x="425" y="145" class="text-white" style="font-weight: bold;">📥 AWS SQS</text>
  <text x="425" y="165" class="text-white">Queue: flash-promo-notifications</text>
  <text x="425" y="185" class="text-white">Environment: {env}</text>
  
  <!-- Django Application -->
  <rect x="100" y="250" width="150" height="80" class="aws-green" rx="5"/>
  <text x="175" y="275" class="text-white" style="font-weight: bold;">🐍 Django App</text>
  <text x="175" y="295" class="text-white">Event Publisher</text>
  <text x="175" y="315" class="text-white">REST API</text>
  
  <!-- Celery Workers -->
  <rect x="350" y="250" width="150" height="80" class="aws-green" rx="5"/>
  <text x="425" y="275" class="text-white" style="font-weight: bold;">⚙️ Celery Workers</text>
  <text x="425" y="295" class="text-white">Message Consumers</text>
  <text x="425" y="315" class="text-white">Background Tasks</text>
  
  <!-- LocalStack Container -->
  <rect x="550" y="120" width="150" height="180" fill="#e9ecef" stroke="#6c757d" stroke-width="2" rx="5"/>
  <text x="625" y="140" class="text-dark" style="font-weight: bold;">🐳 LocalStack</text>
  <text x="625" y="160" class="text-dark">(Development)</text>
  
  <!-- LocalStack SNS -->
  <rect x="570" y="180" width="110" height="40" fill="#ffc107" rx="3"/>
  <text x="625" y="200" class="text-dark">SNS Emulation</text>
  <text x="625" y="215" class="text-dark" style="font-size: 10px;">localhost:4566</text>
  
  <!-- LocalStack SQS -->
  <rect x="570" y="240" width="110" height="40" fill="#17a2b8" rx="3"/>
  <text x="625" y="260" class="text-white">SQS Emulation</text>
  <text x="625" y="275" class="text-white" style="font-size: 10px;">localhost:4566</text>
  
  <!-- External Services -->
  <rect x="100" y="380" width="400" height="60" fill="#f8f9fa" stroke="#6c757d" stroke-width="1" rx="5"/>
  <text x="120" y="400" class="text-dark" style="font-weight: bold;">External Notification Services</text>
  
  <!-- Push Notifications -->
  <rect x="120" y="410" width="80" height="25" fill="#28a745" rx="3"/>
  <text x="160" y="425" class="text-white" style="font-size: 10px;">📲 FCM/APNS</text>
  
  <!-- Email Service -->
  <rect x="220" y="410" width="80" height="25" fill="#dc3545" rx="3"/>
  <text x="260" y="425" class="text-white" style="font-size: 10px;">📧 SES/SMTP</text>
  
  <!-- SMS Service -->
  <rect x="320" y="410" width="80" height="25" fill="#6f42c1" rx="3"/>
  <text x="360" y="425" class="text-white" style="font-size: 10px;">📱 Twilio/SNS</text>
  
  <!-- Arrows -->
  <!-- Django to SNS -->
  <line x1="175" y1="250" x2="175" y2="200" class="arrow"/>
  <text x="185" y="225" class="text-dark" style="font-size: 10px;">Publish Events</text>
  
  <!-- SNS to SQS -->
  <line x1="250" y1="160" x2="350" y2="160" class="arrow"/>
  <text x="300" y="150" class="text-dark" style="font-size: 10px;">Route Messages</text>
  
  <!-- SQS to Celery -->
  <line x1="425" y1="200" x2="425" y2="250" class="arrow"/>
  <text x="435" y="225" class="text-dark" style="font-size: 10px;">Process</text>
  
  <!-- Celery to External Services -->
  <line x1="425" y1="330" x2="300" y2="380" class="arrow"/>
  <text x="350" y="360" class="text-dark" style="font-size: 10px;">Send Notifications</text>
  
  <!-- Dashed lines to LocalStack -->
  <line x1="250" y1="140" x2="550" y2="200" class="dashed-arrow"/>
  <text x="400" y="165" class="text-dark" style="font-size: 10px;">Dev Mode</text>
  
  <line x1="500" y1="140" x2="550" y2="260" class="dashed-arrow"/>
  <text x="530" y="200" class="text-dark" style="font-size: 10px;">Dev Mode</text>
  
  <!-- Environment Labels -->
  <rect x="50" y="480" width="700" height="100" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="70" y="500" class="text-dark" style="font-weight: bold;">Configuración por Entorno:</text>
  
  <!-- Development -->
  <rect x="70" y="510" width="200" height="60" fill="#d1ecf1" stroke="#bee5eb" stroke-width="1" rx="3"/>
  <text x="80" y="525" class="text-dark" style="font-weight: bold;">🔧 Development</text>
  <text x="80" y="540" class="text-dark" style="font-size: 10px;">• LocalStack endpoints</text>
  <text x="80" y="555" class="text-dark" style="font-size: 10px;">• Test credentials</text>
  
  <!-- Staging -->
  <rect x="290" y="510" width="200" height="60" fill="#fff3cd" stroke="#ffeaa7" stroke-width="1" rx="3"/>
  <text x="300" y="525" class="text-dark" style="font-weight: bold;">🧪 Staging</text>
  <text x="300" y="540" class="text-dark" style="font-size: 10px;">• AWS real services</text>
  <text x="300" y="555" class="text-dark" style="font-size: 10px;">• Staging environment</text>
  
  <!-- Production -->
  <rect x="510" y="510" width="200" height="60" fill="#d4edda" stroke="#c3e6cb" stroke-width="1" rx="3"/>
  <text x="520" y="525" class="text-dark" style="font-weight: bold;">🚀 Production</text>
  <text x="520" y="540" class="text-dark" style="font-size: 10px;">• AWS real services</text>
  <text x="520" y="555" class="text-dark" style="font-size: 10px;">• Production environment</text>
  
</svg>